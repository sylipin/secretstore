{"version":3,"sources":["webpack:///./src/views/My.vue?9bd3","webpack:///src/views/My.vue","webpack:///./src/views/My.vue?d91b","webpack:///./src/views/My.vue","webpack:///./src/assets/images/recently.png","webpack:///./src/views/My.vue?28c0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goback","style","backgroundImage","userBgUrl","$event","showBg","userAvaL","stopPropagation","showAva","_v","_s","userNickName","goConcern","concernNumber","goFan","fanCount","class","vipType","userLevel","birthdayFormat","model","value","callback","$$v","expression","active","recentlyImg","allPlayCount","staticRenderFns","data","userid","$store","state","uid","birthday","created","getUserInfo","getUserConcern","getUserFan","methods","axios","$router","go","push","computed","year","component","module","exports"],"mappings":"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","file":"js/chunk-3d0e9089.143b42dc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my\"},[_c('van-icon',{staticClass:\"left-icon\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.goback}}),_c('div',{staticClass:\"head-bg\",style:({ backgroundImage: (\"url(\" + _vm.userBgUrl + \")\") }),on:{\"click\":function($event){_vm.showBg = !_vm.showBg}}},[_c('div',{staticClass:\"personal-data\"},[_c('div',{staticClass:\"personal-ava\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":_vm.userAvaL,\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showAva = !_vm.showAva}}})]),_c('h2',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.userNickName))]),_c('div',{staticClass:\"user-fan\"},[_c('span',[_c('span',{on:{\"click\":_vm.goConcern}},[_vm._v(\"关注\"),_c('span',{staticClass:\"epblock\"}),_vm._v(_vm._s(_vm.concernNumber))]),_c('span',[_c('span',{staticClass:\"epblock\"}),_vm._v(\"|\"),_c('span',{on:{\"click\":_vm.goFan}},[_c('span',{staticClass:\"epblock\"}),_vm._v(\"粉丝\"),_c('span',{staticClass:\"epblock\"}),_vm._v(_vm._s(_vm.fanCount))])])])]),_c('div',{staticClass:\"user-vip\"},[_c('div',{staticClass:\"isVip\",class:[_vm.vipType == 0 ? 'is-orno-vip' : '']},[_vm._v(\" vip \")]),_c('div',{staticClass:\"userLevel\"},[_vm._v(\"Lv.\"+_vm._s(_vm.userLevel))]),_c('div',{staticClass:\"userAge\"},[_vm._v(_vm._s(_vm.birthdayFormat))])])])]),_c('van-image-preview',{attrs:{\"images\":[_vm.userAvaL]},model:{value:(_vm.showAva),callback:function ($$v) {_vm.showAva=$$v},expression:\"showAva\"}}),_c('van-image-preview',{attrs:{\"images\":[_vm.userBgUrl]},model:{value:(_vm.showBg),callback:function ($$v) {_vm.showBg=$$v},expression:\"showBg\"}}),_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"display-content\"},[_c('van-tabs',{attrs:{\"animated\":\"\",\"background\":\"#1c1c1c\",\"sticky\":true,\"swipeable\":true,\"title-active-color\":\"#ee0a24\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"主页\"}},[_c('div',{staticClass:\"home-content\"},[_c('div',{staticClass:\"item-list\"},[_c('div',{staticClass:\"home-content-img\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":_vm.recentlyImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"list-text\"},[_vm._v(\" 最近播放 \"),_c('div',{staticClass:\"list-text-sm\"},[_vm._v(\"累计播放\"+_vm._s(_vm.allPlayCount)+\"首\")])])])])]),_c('van-tab',{attrs:{\"title\":\"动态\"}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"my\">\r\n      <van-icon name=\"arrow-left\" class=\"left-icon\" @click=\"goback\" />\r\n    <div\r\n      class=\"head-bg\"\r\n      :style=\"{ backgroundImage: `url(${userBgUrl})` }\"\r\n      @click=\"showBg = !showBg\"\r\n    >\r\n      <div class=\"personal-data\">\r\n        <div class=\"personal-ava\">\r\n          <img\r\n            :src=\"userAvaL\"\r\n            alt=\"\"\r\n            class=\"auto-img\"\r\n            @click.stop=\"showAva = !showAva\"\r\n          />\r\n        </div>\r\n        <h2 class=\"user-name\">{{ userNickName }}</h2>\r\n        <div class=\"user-fan\">\r\n          <span><span @click=\"goConcern\">关注<span class=\"epblock\" />{{ concernNumber}}</span><span\r\n              ><span class=\"epblock\" />|<span @click=\"goFan\"><span class=\"epblock\" />粉丝<span\r\n                class=\"epblock\"\r\n              />{{ fanCount }}</span></span\r\n            ></span\r\n          >\r\n        </div>\r\n        <div class=\"user-vip\">\r\n          <div class=\"isVip\" :class=\"[vipType == 0 ? 'is-orno-vip' : '']\">\r\n            vip\r\n          </div>\r\n          <div class=\"userLevel\">Lv.{{ userLevel }}</div>\r\n          <div class=\"userAge\">{{ birthdayFormat }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 头像展示 -->\r\n    <van-image-preview v-model=\"showAva\" :images=\"[userAvaL]\" />\r\n    <van-image-preview v-model=\"showBg\" :images=\"[userBgUrl]\" />\r\n    <!-- 用户信息展示 -->\r\n    <div class=\"user-info\">\r\n      <div class=\"display-content\">\r\n        <van-tabs\r\n          animated\r\n          background=\"#1c1c1c\"\r\n          v-model=\"active\"\r\n          :sticky=\"true\"\r\n          :swipeable=\"true\"\r\n          title-active-color=\"#ee0a24\"\r\n        >\r\n          <van-tab title=\"主页\">\r\n            <div class=\"home-content\">\r\n              <div class=\"item-list\">\r\n                <div class=\"home-content-img\">\r\n                  <img :src=\"recentlyImg\" alt=\"\" class=\"auto-img\" />\r\n                </div>\r\n                <div class=\"list-text\">\r\n                  最近播放\r\n                  <div class=\"list-text-sm\">累计播放{{ allPlayCount }}首</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </van-tab>\r\n          <van-tab title=\"动态\"></van-tab>\r\n        </van-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userid: this.$store.state.uid,\r\n      userBgUrl: \"\",\r\n      userAvaL: \"\",\r\n      userNickName: \"\",\r\n      userLevel: null,\r\n      vipType: \"\",\r\n      birthday: null,\r\n      concernNumber: 0,\r\n      fanCount: 0,\r\n      showAva: false,\r\n      showBg: false,\r\n      active: 0,\r\n      recentlyImg: require(\"../assets/images/recently.png\"),\r\n      allPlayCount: 0,\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.getUserInfo();\r\n    this.getUserConcern();\r\n    this.getUserFan();\r\n    // this.getUserrecord();\r\n  },\r\n  methods: {\r\n    getUserInfo() {\r\n      this.axios(`/user/detail?uid=${this.userid}`).then((res) => {\r\n        // \r\n        this.userBgUrl = res.data.profile.backgroundUrl;\r\n        this.userAvaL = res.data.profile.avatarUrl;\r\n        this.userNickName = res.data.profile.nickname;\r\n        this.userLevel = res.data.level;\r\n        this.vipType = res.data.profile.vipType;\r\n        this.birthday = res.data.profile.birthday;\r\n        this.allPlayCount = res.data.listenSongs;\r\n      });\r\n    },\r\n    goback() {\r\n      this.$router.go(-1);\r\n    },\r\n    goConcern(){\r\n      this.$router.push({name:\"Concern\"});\r\n    },\r\n    goFan(){\r\n      this.$router.push({name:\"Fan\"});\r\n    },\r\n    getUserConcern() {\r\n      this.axios(`user/follows?uid=${this.userid}`).then((res) => {\r\n        this.concernNumber = res.data.follow.length;\r\n      });\r\n    },\r\n\r\n    getUserFan() {\r\n      this.axios(`/user/followeds?uid=${this.userid}`).then((res) => {\r\n        // \r\n        this.fanCount = res.data.followeds.length;\r\n      });\r\n    },\r\n\r\n    //获取用户最近播放\r\n    // getUserrecord() {\r\n    //   this.axios(`/user/record?uid=${this.userid}&type=1`).then((res) => {\r\n    //     \r\n    //   });\r\n    // },\r\n  },\r\n\r\n  computed: {\r\n    birthdayFormat() {\r\n      let data = new Date(this.birthday);\r\n      let year = data\r\n        .getFullYear()\r\n        .toString()\r\n        .substr(2, 1);\r\n      return year + \"0后\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.my {\r\n  height: 100vh;\r\n  position: relative;\r\n}\r\n.left-icon {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 20px;\r\n  z-index: 3;\r\n  font-size: 16px;\r\n  color: #fff;\r\n}\r\n.head-bg {\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  overflow: hidden;\r\n  position: relative;\r\n  height: 300px;\r\n  &::before {\r\n    position: absolute;\r\n    content: \"\";\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    z-index: 1;\r\n  }\r\n}\r\n.personal-data {\r\n  position: absolute;\r\n  z-index: 99;\r\n  width: 100%;\r\n\r\n  left: 20px;\r\n  bottom: 40px;\r\n  .personal-ava {\r\n    width: 60px;\r\n    height: 60px;\r\n    img {\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n  .user-name {\r\n    color: #fff;\r\n    margin-top: 15px;\r\n    font-size: 18px;\r\n  }\r\n  .user-fan {\r\n    font-size: 12px;\r\n    color: #ddd;\r\n    margin-top: 5px;\r\n  }\r\n  .user-vip {\r\n    font-size: 12px;\r\n    margin-top: 10px;\r\n    .isVip {\r\n      display: inline-block;\r\n      background-color: #ff0c46;\r\n      padding: 4px 10px;\r\n      border-radius: 18px;\r\n      color: #fff;\r\n    }\r\n    .userLevel,\r\n    .userAge {\r\n      margin-left: 5px;\r\n      display: inline-block;\r\n      background-color: rgba(153, 153, 153, 0.4);\r\n      padding: 4px 10px;\r\n      border-radius: 18px;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .is-orno-vip {\r\n    opacity: 0.3;\r\n  }\r\n}\r\n.user-info {\r\n  background-color: #1c1c1c;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n  position: relative;\r\n  transform: translateY(-20px);\r\n  height: calc(100% - 280px);\r\n  z-index: 99;\r\n  padding: 0 10px;\r\n}\r\n.item-list {\r\n  display: flex;\r\n  align-items: center;\r\n  .list-text {\r\n    margin-left: 20px;\r\n    .list-text-sm {\r\n      font-size: 12px;\r\n      padding-top: 5px;\r\n      color: rgba(170, 170, 170, 0.4);\r\n    }\r\n  }\r\n}\r\n.home-content {\r\n  margin-top: 15px;\r\n  color: #fff;\r\n  .home-content-img {\r\n    width: 40px;\r\n    height: 40px;\r\n    background-image: linear-gradient(to left top, #ff0099, #e03030);\r\n    border-radius: 8px;\r\n    padding: 5px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./My.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./My.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./My.vue?vue&type=template&id=5a6fb776&scoped=true&\"\nimport script from \"./My.vue?vue&type=script&lang=js&\"\nexport * from \"./My.vue?vue&type=script&lang=js&\"\nimport style0 from \"./My.vue?vue&type=style&index=0&id=5a6fb776&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a6fb776\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/recently.d120bb17.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./My.vue?vue&type=style&index=0&id=5a6fb776&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./My.vue?vue&type=style&index=0&id=5a6fb776&lang=scss&scoped=true&\""],"sourceRoot":""}