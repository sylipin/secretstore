(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-398e8562"],{2909:function(t,s,i){"use strict";function n(t,s){(null==s||s>t.length)&&(s=t.length);for(var i=0,n=new Array(s);i<s;i++)n[i]=t[i];return n}function e(t){if(Array.isArray(t))return n(t)}i.d(s,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("fb6a"),i("b0c0"),i("25f0");function o(t,s){if(t){if("string"===typeof t)return n(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,s):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return e(t)||a(t)||o(t)||r()}},"3ca3":function(t,s,i){"use strict";var n=i("6547").charAt,e=i("69f3"),a=i("7dd0"),o="String Iterator",r=e.set,c=e.getterFor(o);a(String,"String",(function(t){r(this,{type:o,string:String(t),index:0})}),(function(){var t,s=c(this),i=s.string,e=s.index;return e>=i.length?{value:void 0,done:!0}:(t=n(i,e),s.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,s,i){"use strict";var n=i("0366"),e=i("7b0b"),a=i("9bdd"),o=i("e95a"),r=i("50c4"),c=i("8418"),l=i("35a1");t.exports=function(t){var s,i,d,g,u,f,h=e(t),v="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,A=void 0!==b,p=l(h),y=0;if(A&&(b=n(b,m>2?arguments[2]:void 0,2)),void 0==p||v==Array&&o(p))for(s=r(h.length),i=new v(s);s>y;y++)f=A?b(h[y],y):h[y],c(i,y,f);else for(g=p.call(h),u=g.next,i=new v;!(d=u.call(g)).done;y++)f=A?a(g,b,[d.value,y],!0):d.value,c(i,y,f);return i.length=y,i}},"63b6":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAELUlEQVRoQ+2ZSaiWVRjHf3+QamPRbIPRRApBGdYiGsiVFBUhFtkgrSJLxcwWFZVGw6LBTTZAEJVDUBokEbgSCsMKooEMI6ho06KobGFt/vHEuR/vPfedvvu+H/cT7tl88J7nnPP/necMz3k+cYQXHeH6mQWYaQ+O1AO2zwTmS/pkVKAjAbB9FvAccHMS/juwTdLavkF6B7B9O7AJOK9E7DuSbukTojcA26ck4fc0CFwl6ZW+IHoBsL0MeAK4sIWwrZLubLKzvVDSd012nQBsz03C1zUNVKjfK2lJnb3t94EbgB+BNyRtrLKfNoDta5P4Sys6/xN4AHgtq68FsB1iH8/aXCfpw7JxhgawPScJf6hmFj8AHpR0wLZ7APgJuFrSz/mYQwHYDtfHCXNVjfhHJD09UT8NgIXAgZL+35U0cSwPqicB2L4fWA/EBTRs+RpYK2lvsWETgO2TgcOSDhWgY09tLhGwUVJM4FQA25cD+4ZVnexfBtZJ+jdvXwdgO9rdBRwDbJG0ugDxKnB31t8PwCJJf098H3igYvM08cRGvVfS9irDKgDbi4AvsnYrJb0V32yfBnwOnJ7ZTLpHugDERg3xUzZWmyVkO2b+9Uzcr8DFkuI3IMpOpH2SrmjrgeJ6viYbbFPd+dy0iW0fDcRFdXbW74uS1hS88A1wQmazTNJ78a3JA0tiU1bMRCeAJLBqsy6VtCfZbAUiviqW5yVtmHGAJDBm8qZM4KOSnkz11wO7s/odkm4bF4BYzx9nAndLurGwDP8BjirYDG7zGV1CaYYjnvor38yS5hUA4qCYX7A5KGnBWHggQcRm/l9QoVwg6ftU/xlQjLkOSTp23AEWSDqYAL4ELirAjQ9ACsnzJfSbpJMKS+gP4LixXEK2yzbxHklL0+yfAfySLa+x2sQ7gFszgc9IejgBXAl8NJbHqO0QHgB5WS5pZwJ4AYgouVjG4yKz/SlwWSZup6TlSXwkCr4CTs1s2ocSqWHEQfkzr1MoYXsFkEexh4HFkr5NAGWhxlDBXIl3B5+6ApSF04NQ2XbMesRDxeMzBu8tnI6QN8LpXXWUHR40bwJ5+qX3B01o3ywpnqGlZZpPyog0ny3pcIrX8zdxnkGom9xiXVz1ayTtzxs0AZTYd3rUnw9EvufECuXnACtrqNZLmvQYnwZA2Susn7RKOhlWAU8Bx1eAxPm9QVJk1eJZ2EdeqL/EVhJ1SYIIb5WV2ODhje3DAqT+R59aTAM9lhJdVatqC3BfVtmYG019jz65mwaKoCuW1OKWO74VQMu++vmTz3aEugGRz3aZjpcktbFrxTBUbrSpR9t3JJD4i6mqrJD0dlNfbet7BUhLKo7i8EbZX0mtwo+24sOud4CJwVMuKaLKc4HI7e+StG0YcW1sRwbQZvA+bGYB+pjFLn3MeqDL7PXR9j8vi4tPtH1DjwAAAABJRU5ErkJggg=="},a630:function(t,s,i){var n=i("23e7"),e=i("4df4"),a=i("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:e})},a835:function(t,s,i){},d28b:function(t,s,i){var n=i("746f");n("iterator")},ddb0:function(t,s,i){var n=i("da84"),e=i("fdbc"),a=i("e260"),o=i("9112"),r=i("b622"),c=r("iterator"),l=r("toStringTag"),d=a.values;for(var g in e){var u=n[g],f=u&&u.prototype;if(f){if(f[c]!==d)try{o(f,c,d)}catch(v){f[c]=d}if(f[l]||o(f,l,g),e[g])for(var h in a)if(f[h]!==a[h])try{o(f,h,a[h])}catch(v){f[h]=a[h]}}}},deed:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"songer",class:{pbm:t.$store.state.songid}},[i("div",{staticClass:"head-bg",style:{backgroundImage:"url("+t.songerImg+")"}},[i("van-icon",{staticClass:"left-icon",attrs:{name:"arrow-left"},on:{click:t.goback}}),i("div",{staticClass:"introduce-text"},[i("h2",{staticClass:"zh-name"},[t._v(t._s(t.artist.name))]),i("p",{staticClass:"EnglishName"},[t._v(t._s(t.EnglishName))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOrNoColletion,expression:"!isOrNoColletion"}],staticClass:"btn-concern noActive",on:{click:t.getCollectionSonger}},[i("van-icon",{attrs:{name:"plus"}}),t._v("收藏 ")],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOrNoColletion,expression:"isOrNoColletion"}],staticClass:"btn-concern active-concern",on:{click:t.cancelColletion}},[t._v(" 已收藏 ")])])],1),i("div",{staticClass:"user-info"},[i("div",{staticClass:"display-content"},[i("van-tabs",{attrs:{animated:"",background:"#1c1c1c",sticky:"",swipeable:!0,"title-active-color":"#ee0a24"},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[i("van-tab",{attrs:{title:"主页"}},[i("div",{staticClass:"homepage"},[i("div",{staticClass:"homepage-title"},[i("van-icon",{staticClass:"homepage-icon",attrs:{name:"fire-o"}}),t._v("近期热门 "),i("span",{staticClass:"more-hot-songs",on:{click:t.getMoreHotSongs}},[t._v("更多热歌")])],1),t._l(t.recentlyHotSongs,(function(s,n){return i("div",{key:n,staticClass:"recently-hot-songs"},[i("div",{staticClass:"recently-hot-songs-item",on:{click:function(i){return t.changeSongListAndId(s.id,t.arry)}}},[i("div",{staticClass:"recently-hot-songs-name"},[t._v(t._s(s.name))]),s.al?i("div",{staticClass:"recently-hot-songs-alname"},[i("span",{staticClass:"sq"},[t._v("SQ")]),t._v(t._s(s.al.name)+" ")]):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.storesongid==s.id,expression:"storesongid == item.id"}],staticClass:"out-play"},[i("img",{staticClass:" auto-img",attrs:{src:t.outPlay,alt:""}})])])})),i("div",{staticClass:"songer-dec"},[i("div",{staticClass:"songer-dec-title"},[t._v("歌手简介:")]),i("p",{staticClass:"songer-info"},[t._v(t._s(t.briefDesc))])])],2)]),i("van-tab",{attrs:{title:"歌曲"+[t.maxLength?t.maxLength:""]}},[i("div",{staticClass:"homepage"},[i("div",{staticClass:"homepage-title"},[i("van-icon",{staticClass:"homepage-icon",attrs:{name:"music-o"}}),t._v("全部歌曲 ")],1),i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"20"},on:{load:t.getMoreSongs},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.list,(function(s,n){return i("van-cell",{key:n},[i("div",{staticClass:"recently-hot-songs",on:{click:function(i){return t.changeSongListAndId(s.id,t.arry)}}},[i("div",{staticClass:"recently-hot-songs-item"},[i("span",{staticClass:"hot-index"},[t._v(t._s(n+1))]),i("div",{staticClass:"recently-hot-songs-name"},[t._v(t._s(s.name))]),s.al?i("div",{staticClass:"recently-hot-songs-alname"},[i("span",{staticClass:"sq"},[t._v("SQ")]),t._v(t._s(s.al.name)+" ")]):t._e()])]),t.storesongid==s.id?i("div",{staticClass:"out-play"},[i("img",{staticClass:"auto-img",attrs:{src:t.outPlay,alt:""}})]):t._e()])})),1)],1)]),i("van-tab",{attrs:{title:"专辑"}}),i("van-tab",{attrs:{title:"视频"}}),i("van-tab",{attrs:{title:"动态"}})],1)],1)])])},e=[],a=(i("99af"),i("c975"),i("d81d"),i("fb6a"),i("2909")),o={data:function(){return{musicToken:this.$store.state.musicToken,briefDesc:"",songerImg:"",artist:"",songId:"",EnglishName:"",songerDec:"",active:0,recentlyHotSongs:[],loading:!1,finished:!1,offsetIndex:0,list:[],arry:[],maxLength:0,userId:this.$store.state.uid,isOrNoColletion:!1,outPlay:i("63b6"),storesongid:this.$store.state.songid}},created:function(){var t=this;this.songId=this.$route.query.id,this.getSongerInfo(),this.axios("/artist/songs?limit=100000&id=".concat(this.songId)).then((function(s){t.maxLength=s.data.songs.length})),this.musicToken&&this.getMyColletion()},methods:{goback:function(){this.$router.go(-1)},getMoreSongs:function(){var t=this;this.$store.commit("changeSongList",this.arry),this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0}),this.offsetIndex=this.offsetIndex+1,this.axios("/artist/songs?limit=10&offset=".concat(10*(this.offsetIndex-1),"&id=").concat(this.songId)).then((function(s){t.$toast.clear(),200===s.data.code&&(t.list=[].concat(Object(a["a"])(t.list),Object(a["a"])(s.data.songs)),s.data.songs.map((function(s){t.arry=[].concat(Object(a["a"])(t.arry),[s.id])})),t.loading=!1,t.list.length==t.maxLength&&(t.$toast.clear(),t.finished=!0))})).catch((function(s){t.$toast.clear(),console.error(s)}))},getSongerInfo:function(){var t=this;this.axios("/artists?id="+this.songId).then((function(s){t.briefDesc=s.data.artist.briefDesc,t.songerImg=s.data.artist.img1v1Url,t.artist=s.data.artist,t.EnglishName=s.data.artist.alias[0],t.songerDec=s.data.artist.briefDesc,t.recentlyHotSongs=s.data.hotSongs.slice(0,5)}))},getCollectionSonger:function(){var t=this;this.musicToken?(this.isOrNoColletion=!0,this.axios("/artist/sub?id=".concat(this.songId,"&t=1&cookie=").concat(this.musicToken)).then((function(s){200===s.data.code&&t.$toast.success("收藏成功")}))):this.$toast("请先登录")},cancelColletion:function(){var t=this;this.musicToken?(this.isOrNoColletion=!1,this.axios("/artist/sub?id=".concat(this.songId,"&t=0&cookie=").concat(this.musicToken)).then((function(s){200===s.data.code&&t.$toast.success("已取消")}))):this.$toast("请先登录")},getMoreHotSongs:function(){this.active=1},getMyColletion:function(){var t=this;this.axios("/artist/sublist?cookie=".concat(this.musicToken)).then((function(s){var i=[];s.data.data.map((function(t){i.push(t.id)})),-1!=i.indexOf(t.songId)?t.isOrNoColletion=!0:t.isOrNoColletion=!1}))},changeSongListAndId:function(t,s){this.storesongid=t,this.$store.commit("changeSongid",t),this.$store.commit("changeSongList",s)}}},r=o,c=(i("edf2"),i("2877")),l=Object(c["a"])(r,n,e,!1,null,"3675a40c",null);s["default"]=l.exports},e01a:function(t,s,i){"use strict";var n=i("23e7"),e=i("83ab"),a=i("da84"),o=i("5135"),r=i("861d"),c=i("9bf2").f,l=i("e893"),d=a.Symbol;if(e&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var g={},u=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),s=this instanceof u?new d(t):void 0===t?d():d(t);return""===t&&(g[s]=!0),s};l(u,d);var f=u.prototype=d.prototype;f.constructor=u;var h=f.toString,v="Symbol(test)"==String(d("test")),m=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,s=h.call(t);if(o(g,t))return"";var i=v?s.slice(7,-1):s.replace(m,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:u})}},edf2:function(t,s,i){"use strict";var n=i("a835"),e=i.n(n);e.a},fb6a:function(t,s,i){"use strict";var n=i("23e7"),e=i("861d"),a=i("e8b5"),o=i("23cb"),r=i("50c4"),c=i("fc6a"),l=i("8418"),d=i("b622"),g=i("1dde"),u=i("ae40"),f=g("slice"),h=u("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),m=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,s){var i,n,d,g=c(this),u=r(g.length),f=o(t,u),h=o(void 0===s?u:s,u);if(a(g)&&(i=g.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?e(i)&&(i=i[v],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return m.call(g,f,h);for(n=new(void 0===i?Array:i)(b(h-f,0)),d=0;f<h;f++,d++)f in g&&l(n,d,g[f]);return n.length=d,n}})}}]);
//# sourceMappingURL=chunk-398e8562.5fa9264a.js.map